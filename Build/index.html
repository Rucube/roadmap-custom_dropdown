<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            width: 100%;
            height: 100%;
        }

        body {
            width: 100%;
            height: 100%;
            background-color: #ce9a4d;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #box {
            position: relative;
            background-color: #fff;
            width: 50%;
            height: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            gap: 4px;
        }

        ul {
            list-style-type: none;
        }

        button {
            border: 1px solid black;
            border-radius: 10px;
            position: relative;
            margin-top: 20px;
        }

        #arrow {
            position: absolute;
            right: 10px;
            top: 10px;
        }

        .box-style, li {
            width: 150px;
            height: 35px;
            background-color: #f5eaea;
            display: flex;
            align-items: center;
            justify-content:flex-start;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            font-size: 17px;
            border-top: 1px solid black;
            border-left: 1px solid black;
            border-right: 1px solid black;
            padding-left: 8px;
        }

        li:first-of-type {
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }

        li:last-of-type {
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
            border-bottom: 1px solid black;
        }

        #dropdown-list {
            display: none;
        }
    </style>
</head>
<body>
    <div id="box">
        <button id="dropdown" class="box-style">
            <span id="label">Select an Item</span>
            <span id="arrow">nothing</span>
        </button>
        <ul id="dropdown-list">
            <li><span class="list-label">First</span><span class="check-mark"></span></li>
            <li><span class="list-label">Second</span><span class="check-mark"></span></li>
            <li><span class="list-label">Third</span><span class="check-mark"></span></li>
            <li><span class="list-label">Fourth</span><span class="check-mark"></span></li>
            <li><span class="list-label">Fifth</span><span class="check-mark"></span></li>
        </ul>
    </div>

    <script>
        const dropDown = document.getElementById("dropdown");
        const dropDownLabel = document.getElementById("label");
        const arrow = document.getElementById("arrow");
        const dropDownList = document.getElementById("dropdown-list");
        const dropDownListItems = document.querySelectorAll('#dropdown-list li');

        let isOpen = false;

        function dropDownToggle() {
            isOpen = !isOpen;
            
            if (isOpen) {
                arrow.textContent = '\u02C4'
                dropDownList.style.display = 'block';
            } else {
                arrow.textContent = '\u02C5'
                dropDownList.style.display = 'none';
            }
        };

        dropDownListItems.forEach((li) => {
            let isSelected = false;

            li.addEventListener('click', () => {
                const listLabel = li.querySelector('.list-label');
                const listCheckMark = li.querySelector('.check-mark');

                console.log('i am', listLabel);
                dropDownToggle();
                dropDownLabel.textContent = listLabel.textContent;
                
                isSelected = !isSelected;

                if (isSelected) {
                    listCheckMark.textContent = '\u2714';
                } else {
                    listCheckMark.textContent = '';
                }
                
            });
        });

        console.log('before dom loads', arrow.textContent);

        document.addEventListener('DOMContentLoaded', () => {
        // Your code here will execute when the DOM is ready
        arrow.textContent = '\u02C5';
        console.log('after dom loads', arrow.textContent);
        });

        console.log(dropDownList.style);

        document.addEventListener('click', (e) => {
            console.log(e.target.textContent);
        });

        dropDown.addEventListener('click', (e) => {
            console.log(e.target.tagName, 'clicked');
            dropDownToggle();
            //turn open closing into a function so we can re-use
        });
    </script>
</body>
</html>